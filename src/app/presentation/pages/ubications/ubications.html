<div class="input-group">
  <input
    #postalCode
    type="number"
    class="form-control"
    placeholder="Buscar ubicación por código postal"
  />
  <button
    class="btn btn-outline-primary"
    (click)="searchUbicationByPostalCode(+postalCode.value)"
    type="button"
  >
    Buscar
  </button>
</div>

@if (ubication()) {
  <div class="card my-5" style="width: 30rem">
    <div class="card-body">
      <h5 class="card-title">Ubicación</h5>
      <h6 class="card-subtitle mb-2 text-body-secondary">
        {{ ubication()?.placeName }} - {{ ubication()?.postalcode }}
      </h6>
      <p class="card-text">Latitud: {{ ubication()?.lat }} - Longitud: {{ ubication()?.lng }}</p>
      <div class="d-flex justify-content-end">
        <button class="btn btn-success" (click)="openModal()">Agregar</button>
      </div>
    </div>
  </div>
}

<shared-tabmenu
  [currrentWeatherList]="currentWeatherList()"
  (weatherActual)="weatherActual($event)"
>
  @if (this.currentWeather()) {
    <div tab-content class="mt-5 d-flex justify-content-center">
      <div class="card">
        <img src="..." class="card-img-top" alt="..." />
        <div class="card-body">
          <h5 class="card-title">
            Condiciones actuales {{ this.currentWeather()?.weather?.description }}
          </h5>
        </div>
        <ul class="list-group-flush">
          <li class="list-group-item">
            Código del estado: {{ this.currentWeather()?.postalCode }}
          </li>
          <li class="list-group-item">Temperatura: {{ this.currentWeather()?.temp }}</li>
          <li class="list-group-item">Sensación terminca: {{ this.currentWeather()?.rh }}</li>
          <li class="list-group-item">Amancer: {{ this.currentWeather()?.sunrise }}</li>
          <li class="list-group-item">Puesta de sol: {{ this.currentWeather()?.sunset }}</li>
          <li class="list-group-item">
            Latitud: {{ this.currentWeather()?.lat }} , Longitud:
            {{ this.currentWeather()?.lon }}
          </li>
        </ul>
        <div class="card-body">
          <a href="#" class="card-link">Mostrar pronostico de los proximos - 5 dias</a>
        </div>
      </div>
    </div>
  }
</shared-tabmenu>

<shared-modal
  #alertModal
  [dataModal]="dataModalAdd"
  (eventConfirm)="addUbication(ubication()!.postalcode)"
></shared-modal>

<shared-modal
  #alertModaldds
  [dataModal]="dataModalConfirm"
  (eventConfirm)="addUbication(ubication()!.postalcode)"
></shared-modal>

<shared-modal
  #alertModaldsdd
  [dataModal]="dataModalError"
  (eventConfirm)="addUbication(4)"
></shared-modal>
